
@{
    ViewBag.Title = "Edit";
}
<div class="col-md-12">
    <h2>Edit</h2>
</div>
<input type="hidden" id="hdnContactId" data-value="@ViewBag.ContactId"/>
<div data-bind="loading:$root.isBusy">
<div data-bind="loading:$root.isBusy">
            <div  data-bind="with:SelectedContact">
                <div class="bdr">
                    <div class="col-md-6">

                        <div class="form-group ">
                            <label>First Name</label>
                            <input type="text" data-bind="value:FirstName" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" data-bind="value:LastName" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" data-bind="value:Title" class="form-control"/>
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <textarea data-bind="value:Address" class=" form-control"></textarea>
                        </div>
                    </div>
                    <div class="col-md-6 ">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="text" data-bind="value:Email" class="form-control"/>
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" data-bind="value:Phone,numericOnly:true" class=" form-control"/>
                        </div>
                        <div class="form-group">
                            <label>Related To</label>
                            <select data-bind="options: $root.Account ,optionsText: 'Name', optionsValue: 'Id', value:AccountId, optionsCaption:'Select Account'" class="form-control"></select>
                        </div>
                        <div class="form-group">
                            <label>Assigned To</label>
                            <select data-bind="options: $root.Agent ,optionsText: 'Name', optionsValue: 'Id', value:AgentId" class="form-control"></select>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <h4 class="text-primary">Other</h4>
                </div>
                <div class="bdr">
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label>Comments</label>
                            <textarea data-bind="value:Comments" class=" form-control" rows="6"></textarea>
                        </div>
                    </div>
                </div>
            </div>
                <div class="col-md-12">
                    <button class="btn btn-primary ladda-button" data-style="expand-left" data-bind="ladda:$root.busy,click:$root.updateContact"><span class=" ladda-label">Update</span></button>
                    @*<button type="button" class="btn btn-primary" data-bind="click:$root.updateContact,visible:isUpdate">Update</button>*@
                </div>
</div>
    </div>
    @section scripts{
        <script src="~/Content/js/select2.min.js"></script>
        <script src="~/App/ViewModels/CRM/models.js"></script>
        <script src="~/App/ViewModels/Contact/ContactViewModel.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                var vm = new ContactViewModel();
                ko.applyBindings(vm);
                vm.contactedit();
            });
        </script>
<script src="~/Content/js/script-ladda.js"></script>
    }


