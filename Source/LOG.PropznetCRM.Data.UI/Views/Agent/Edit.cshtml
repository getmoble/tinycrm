@model LOG.PropznetCRM.Data.ViewModel.Agent.AgentViewModel
@{
    ViewBag.Title = "Edit";
}
<script src="~/Content/js/jquery-2.1.1.min.js"></script>
@*<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">*@
<link href="~/Content/css/fileinput.css" rel="stylesheet" />
@*<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>*@

<div class="container">
    <div class="row" data-bind="template:{name:'item-agent-template',data:selectedAgent}">
    </div>
</div>
<script type="text/html" id="item-agent-template">
    <h3>Edit Agent/Staff</h3>
    <div class="col-md-6">

        <div class="form-group ">
            <label>First Name:</label>
            <input type="text" data-bind="value:firstname" class="form-control" />
        </div>

        <div class="form-group">
            <label>Last Name:</label>
            <input type="text" data-bind="value:lastname" class="form-control" />
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input type="text" data-bind="value:email" class="form-control" />
        </div>

        <div class="form-group">
            <label>Phone:</label>
            <input type="text" data-bind="value:phoneNumber" class="form-control" />
        </div>

        <div class="form-group">
            <label>Address:</label>
            <input type="text" data-bind="value:address" class="form-control" />
        </div>
    </div>

    <div class="col-md-6 ">
        <label>&nbsp;</label>
        <div class="form-group">
            <input type="checkbox" data-bind="checked:islistingmember" /> <label> Listing Member</label>
        </div>

        <div class="form-group">
            <label>DED License No:</label>
            <input type="text" data-bind="value:DEDlicenseNumber" class=" form-control" />
        </div>

        <div class="form-group">
            <label>RERA Registration No:</label>
            <input type="text" data-bind="value:RERAregistrationNumber" class=" form-control" />
        </div>
        <div class="form-group">
            <label>Preview</label>
            @*<img data-bind="attr:{src:image}" class="imgsize" id="file-3" />*@ 
            <input id="file-3" type="file">
        </div>


    </div>
    <div class=" clearfix"></div>
    <div class="col-md-12">
        <button type="button" class="btn btn-primary" data-bind="click:$root.updateAgent">Convert</button>
        <button type="button" class="btn btn-danger">Cancel</button>
    </div>
</script>
@section scripts{
    <script src="~/Content/js/fileinput.js"></script>
    <script type="text/javascript">
        //$("#file-3").fileinput({
        //    uploadUrl: "' . $url1 . '",
        //    uploadAsync: false,
        //    minFileCount: 2,
        //    maxFileCount: 5,
        //    overwriteInitial: false,
        //    initialPreview: [
        //        "<img src=\'http://lorempixel.com/200/150/food/1\'>"
        //    ],
        //    initialPreviewConfig: [
        //        { caption: "Food-1.jpg", width: "120px", url: "' . $url . '", key: 1 }

        //    ],
        //    uploadExtraData: {
        //        img_key: "1000",
        //        img_keywords: "happy, nature",
        //    }
        //});
        //$("#file-3").on("filepredelete", function (jqXHR) {
        //    var abort = true;
        //    if (confirm("Are you sure you want to delete this image?")) {
        //        abort = false;
        //    }
        //    return abort;
        //});
        $("#file-3").fileinput({
            showUpload: false,
            showCaption: false,
            browseClass: "btn btn-primary btn-lg",
            initialPreview: [
                "<img src=\'~/Upload/Agent/Person-Dummy.jpg'>"
            ],
            fileType: "any",
            previewFileIcon: "<i class='glyphicon glyphicon-king'></i>"
        });

    </script>
    <script type="text/javascript">

        $(document).ready(function () {
            var vm = new AgentViewModel();
            ko.applyBindings(vm);
            vm.Editagent(@Model.Id);
        });
    </script>
}